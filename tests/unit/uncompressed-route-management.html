<!DOCTYPE html>
<html>
    <head>
        <title>Uncompressed - Route Management</title>
        <link rel="stylesheet" href="lib/qunit.css" />
    </head>
    <body>
        <h1 id="qunit-header">Route Management</h1>
        <h2 id="qunit-banner"></h2>
        <div id="qunit-testrunner-toolbar"></div>
        <h2 id="qunit-userAgent"></h2>
        <ol id="qunit-tests"></ol>
        <div id="qunit-fixture">test markup, will be hidden</div>
        
        <script src="http://code.jquery.com/jquery-latest.js"></script>
        <script src="lib/qunit.js"></script>

        <script defer src="../../scripts/uncompressed/jquery.history.js"></script>
        <script defer src="../../scripts/uncompressed/route.js"></script>

        <script>
            $(function(){
                test("Add a simple route to the route table", function() {
                    var
                        func = function(){},
                        url = '/test';

                    ok( true, Route.addRoute(url, func));
                    equal(func, Route.routes[url]); 
                });

                test("Add a batch of simple routes", function() {
                    var routes = {
                                    '/test1': function(a){},
                                    '/test2': function(a,b){},
                                    '/test1/test2': function(a,b,c){}
                                 };
                    
                    ok(true, Route.addRoutes(routes));
                    ok(true, Route.routes['/test1/test2']);
                    ok(true, Route.routes['/test1']);
                    equal(routes['/test1/test2'], Route.routes['/test1/test2']);
                    equal(routes['/test1'], Route.routes['/test1']);
                });
            })
        </script>
    </body>
</html>
